<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

    <title>Zzish Quick Javascript Client SDK</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-1.11.2.min.js"></script>

    <script src="zzish.js"></script>
    <script>
        var userId;
        var init = false;

        function initApp() {
            Zzish.init($("#appId").val());
            init = true;
            console.log("App Initalized with id",$("#appId").val());
        }

        function createUser() {
            if (init) {
                userId = Zzish.getUser($("#userId").val(),$("#name").val(),function(err,message) {
                    console.log("User created with status" + err);    
                });
                
            }
            else {
                alert ("Please init with your APP_ID from http://www.zzish.co.uk/developer/")
            }
        }

        function postContent() {
            if (init) {            
                //postContent = function(profileId,id,name,content,callback)
                var JSON_val = JSON.parse($("#cjson").val());
                Zzish.postContent(userId,$("#cid").val(),$("#cname").val(),JSON_val,function(err,message) {
                    console.log("Content created with status" + err);    
                });
            }
            else {
                alert ("Please init with your APP_ID from http://www.zzish.co.uk/developer/")
            }
            
        }

        function getContent() {
            if (init) {                        
                Zzish.getContent(userId,$("#gcid").val(),function(err,message) {
                    $("#getContentOutput").html(JSON.stringify(message));
                });
            }
            else {
                alert ("Please init with your APP_ID from http://www.zzish.co.uk/developer/")
            }
        }

        function listContent() {
            if (init) {     
                Zzish.listContent(userId,function(err,message) {
                    $("#listContentOutput").html(JSON.stringify(message));
                });
            }
            else {
                alert ("Please init with your APP_ID from http://www.zzish.co.uk/developer/")
            }
        } 

        function publishContentToGroup() {
            if (init) {     
                Zzish.publishContent(userId,$("#pemail").val(),$("#pid").val(),$("#pcode").val(),function(err,message) {
                    $("#publishContentOutput").html(JSON.stringify(message));
                });
            }
            else {
                alert ("Please init with your APP_ID from http://www.zzish.co.uk/developer/")
            }
        }          
    </script>
</head>

<body>
<input type="text" id="appId" name="appId" placeholder="Your API Key" value=""/><br/>
<input type="button" onclick="initApp()" value="Initialise"/><br/>
<h1>Create user</h1>
<input type="text" id="userId" name="userId" placeholder="userId" value=""/><br/>
<input type="text" id="name" name="name" placeholder="Name" value=""/><br/>
<input type="button" onclick="createUser()" value="Create User"/><br/>
<br/>
<h1>Create Content</h1>
<input type="text" id="cid" name="cid" placeholder="Content Id" value=""/><br/>
<input type="text" id="cname" name="cname" placeholder="Content Name" value=""/><br/>
<input type="text" id="cjson" name="cjson" placeholder="Content JSON" value=""/><br/>
<input type="button" onclick="postContent()" value="Create Content"/><br/>
<h1>Get Content</h1>
<input type="text" id="gcid" name="gcid" placeholder="Content Id" value=""/><br/>
<input type="button" onclick="getContent()" value="Get Content"/><br/>
<h2>Output</h2>
<div id="getContentOutput"></div>
<br/>
<h1>List Content</h1>
<input type="button" onclick="listContent()" value="Get Content"/><br/>
<h2>Output</h2>
<div id="listContentOutput"></div>
<br/>
<h1>Publish Content</h1>
<input type="text" id="pid" name="pid" placeholder="Content Id" value=""/><br/>
<input type="text" id="pemail" name="pemail" placeholder="Email Address of Creator" value=""/><br/>
<input type="text" id="pcode" name="pcode" placeholder="Group Code" value=""/><br/>
<input type="button" onclick="publishContent()" value="Publish Content"/><br/>
<h2>Output</h2>
<div id="publishContentOutput"></div>
</body>
</html>